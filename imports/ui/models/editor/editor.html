<template name="editor">
    {{> navbar}}

    {{#with model}}
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-2">
                    <div class="page-header-higher page-header">
                        <h4>Model materials</h4>
                    </div>

                    {{#with material}}
                        <select multiple class="form-control" style="height: 425px;" name="list">
                            {{#each list}}
                                <option value="{{name}}">{{name}}</option>
                            {{/each}}
                        </select>
                    {{else}}
                        <div class="form-controls" style="height: 425px;">
                            Materials not found
                        </div>
                    {{/with}}

                    <!--
                    <div class="page-header">
                        <h4>Model images</h4>
                    </div>
                    <select multiple class="form-control">
                        <option>image.jpg</option>
                        <option>image2.jpg</option>
                        <option>image3.jpg</option>
                        <option>4.png</option>
                        <option>5.tiff</option>
                        <option>...</option>
                        <option>...</option>
                        <option>...</option>
                        <option>...</option>
                        <option>...</option>
                        <option>...</option>
                        <option>...</option>
                        <option>...</option>
                        <option>...</option>
                    </select>
                    -->
                </div>
                <div class="col-md-8">
                    <div class="page-header-higher page-header">
                        <h4>Model: {{data.name}}</h4>
                    </div>

                    {{#if obj and mtl}}
                        <iframe style="width: 100%; height: 500px;" src="/viewer/index.html#/obj={{obj}}&mtl={{mtl}}" frameborder="0" allowfullscreen></iframe>
                    {{/if}}
                </div>
                <div class="col-md-2">
                    <div class="page-header-higher">
                        <h4>Material Parameters</h4>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputName2">Name</label>
                        <input type="text" class="form-control" name="name" placeholder="current material name" value="{{material.current.name}}">
                    </div>
                    <div class="form-group">
                        <label style="display: block;">Diffuse colour</label>
                        <input type="color" class="form-control" name="color" value="{{material.current.color}}">
                    </div>
                    <div class="form-group">
                        <label style="display: block;">Specular Colour</label>
                        <input type="color" class="form-control" name="specular" value="{{material.current.specular}}">
                    </div>
                    <div class="form-group">
                        <label>Glossiness</label>
                        <input type="number" class="form-control" step="1" min="0" max="100" placeholder="value from 1 to 100" name="shininess" value="{{material.current.shininess}}">
                    </div>
                    <div class="form-group">
                        <label>Bump scale</label>
                        <input type="number" class="form-control" step="0.01" min="-5" max="5" placeholder="value from -5 to 5" name="bumpScale" value="{{material.current.bumpScale}}">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary btn-block save-preset" disabled>Save preset</button>
                    </div>
                </div>
            </div>
        </div>

        {{#with preset}}
            <div class="clearfix" style="height: 30px;"></div>
            <div class="container-fluid presets">
                <div class="page-header-higher">
                    <h4>Material presets</h4>
                </div>
                <div class="row">
                    {{#each materials}}
                        <div class="col-xs-3">
                            <div class="thumbnail" style="cursor: pointer" data-preset-in-db="{{_id}}" data-preset-in-lib="{{_id}}">
                                <button class="active" style="position: absolute; top: 0; right: 15px; display: none;">
                                    <span class="glyphicon glyphicon-ok-sign text-success"></span>
                                    <!--{{active}}1-->
                                    <!--{{#if active}}-->
                                        <!--<span class="glyphicon glyphicon-ok-sign text-success"></span>-->
                                        <!--&lt;!&ndash;<span class="glyphicon glyphicon-remove-sign text-danger"></span>&ndash;&gt;-->
                                    <!--{{else}}-->
                                        <!--<span class="glyphicon glyphicon-plus-sign text-default"></span>-->
                                    <!--{{/if}}-->
                                </button>

                                <img src="/images/keyshot_material_preview.jpg" alt="Generic placeholder thumbnail">

                                <div class="caption text-center">
                                    <h5>{{name}}</h5>
                                </div>
                            </div>
                        </div>
                    {{/each}}
                </div>
            </div>
        {{/with}}
    {{else}}
        <div class="container">
            <div class="text-center">
                <h3>Please wait</h3>
            </div>
        </div>
    {{/with}}
</template>
